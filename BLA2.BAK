#include<stdio.h>
#include<conio.h>
#include<graphics.h>
#include<dos.h>
#include<math.h>

void main()
{
    int gd=DETECT,gm;
    int x,y,x1,y1,x2,y2,dx,dy,p,run;
    do
    {
    initgraph(&gd,&gm,"C:\\TURBOC3\\BGI");
    printf("enter (x1,y1):\n");
    scanf("%d %d",&x1,&y1);
    printf("enter (x2,y2):\n");
    scanf("%d %d",&x2,&y2);
    setcolor(YELLOW);
    outtextxy(x1-90,y1+40,"BLA WITH SLOPES POSITIVE AND LESS THAN 1");
    setcolor(RED);
    outtextxy(x1-10,y1-10,"(x1,y1)");
    outtextxy(x2+10,y2+10,"(x2,y2)");

    dx=(x2-x1);
    dy=(y2-y1);
    p=2*dy-dx;

    x=x1;
    y=y1;

    while(x<x2)
    {
	putpixel(x,y,2);
	x=x+1;
	if(p >= 0 )
	{
	    p=p+2*dy-2*dx;
	    y=y+1;
	}
	else
	{
	  p=p+2*dy;
	}
	delay(20);
    }
    getch();
    closegraph();
    printf("PRESS [1] TO DRAW ANOTHER LINE OR [0] TO EXIT");
    scanf("%d",&run);
    }while(run == 1);
}